<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <title>Word Scorer</title>
  <style>
    body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fafafa;
        }
        .form-container {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .input-group {
            display: flex;
            gap: 10px;
        }
        input[type="text"] {
            flex: 1;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            padding: 8px 16px;
            background-color: #00aaff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #66ccff;
        }
        #puzzle-body {
            margin-top: 20px;
        }
        #msg{
            color:red;
            margin-top:8px;
        }
        #resultBox{
            margin-top:15px;
            padding:12px;
            background:#eeeeee;
            border-radius:4px;
            min-height:60px;
        }
  </style>
</head>
<body>
    <div>每个评委都有各自的评分标准呢......但好像分数低于4分的话评委就会拒绝评分</div>
    <div>同一个评委只会给出能得到最高分数的评分标准的得分，如果有多个评分标准得分相同，给出靠前的一项</div>
    <div class="form-container">
        <div class="input-group">
            <input type="text" id="content" name="content" placeholder="请输入内容..." required>
            <button id="scoreBtn">提交</button>
        </div>
    </div>
    <div id="msg"></div>
    <div id="resultBox"></div>
    <br/>
    <div>可惜的是，这个界面中评委会拒绝<i>自评</i>......</div>
    <div>但我还是想看看评委<i>自身</i>的实力</div>
    <br/>
    <img src="./1.webp" width="800px">

  <script>
    const inp   = document.getElementById('content');
    const btn   = document.getElementById('scoreBtn');
    const msg   = document.getElementById('msg');
    const box   = document.getElementById('resultBox');

    btn.onclick = async () => {
      const w = inp.value.trim().toUpperCase();
      if (!w) { msg.textContent = '请输入单词'; box.innerHTML = ''; return; }

      msg.textContent = '';
      box.innerHTML = '评分中…';

      try {
        const res = await fetch('/service/wish/special/score-criteria', {
          method : 'POST',
          headers: {'Content-Type':'application/json'},
          body   : JSON.stringify({word:w})
        });
        const data = await res.json();

        if (data.error) {                       // 4xx/5xx
          msg.textContent = data.error || '未知错误';
          box.innerHTML = '';
          return;
        }

        // 成功：把每条结果渲染成 <div>
        box.innerHTML = data.results.map(r => `<div class="line">${r}</div>`).join('');

      } catch (e) {                          // 网络不通等
        msg.textContent = '网络异常';
        box.innerHTML = '';
      }
    };

    // 回车快捷触发
    inp.addEventListener('keyup', e => { if (e.key === 'Enter') btn.click(); });
  </script>
</body>
</html>